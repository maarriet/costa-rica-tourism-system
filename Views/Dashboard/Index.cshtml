@{
    ViewData["Title"] = "Sistema de Guía Local y Turismo - Costa Rica";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Styles {
    <link href="~/css/styles.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
}

<!-- Header -->
<header>
    <div class="header-content">
        <h1>Sistema de Guía Local y Turismo</h1>
        <p>Gestión completa del turismo local en Costa Rica</p>
        <div class="header-stats">
            <div class="stat-box">
                <i class="fas fa-map-marker-alt"></i>
                <span>125 Lugares</span>
            </div>
            <div class="stat-box">
                <i class="fas fa-calendar-check"></i>
                <span>89 Reservas Activas</span>
            </div>
            <div class="stat-box">
                <i class="fas fa-users"></i>
                <span>1,234 Usuarios</span>
            </div>
        </div>
    </div>
</header>

<!-- Navigation -->
<nav>
    <div class="nav-container">
        <div class="logo">
            <i class="fas fa-map-marked-alt"></i> Tourism CR
        </div>
        <ul class="nav-links" id="navLinks">
            <li><a href="/Dashboard" class="active"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
            <li><a href="/Places"><i class="fas fa-map-marker-alt"></i> Lugares</a></li>
            <li><a href="/Categories"><i class="fas fa-tags"></i> Categorías</a></li>
            <li><a href="/Reservations"><i class="fas fa-calendar-check"></i> Reservas</a></li>
            <li><a href="#reportes"><i class="fas fa-chart-bar"></i> Reportes</a></li>
        </ul>
        <div class="mobile-menu" id="mobileMenu">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>
</nav>


<!-- Dashboard Section -->
<section id="dashboard" class="container fade-in">
    <div class="section-header">
        <h2><i class="fas fa-tachometer-alt"></i> Dashboard de Control</h2>
        <p>Resumen general del sistema en tiempo real</p>
    </div>
    <!-- API Widgets -->
    <div class="api-widgets-section">
        <div class="widget-grid">
            <!-- Reloj en Tiempo Real -->
            <div class="widget-card">
                <h4><i class="fas fa-clock"></i> Hora Actual - Costa Rica</h4>
                <div class="time-display">
                    <div id="currentTime" class="time-text">--:--:--</div>
                    <div id="currentDate" class="date-text">-- de ---- de ----</div>
                    <div class="timezone-text">Zona Horaria: CST (UTC-6)</div>
                </div>
            </div>

            <!-- Mapa de Costa Rica -->
            <div class="widget-card">
                <h4><i class="fas fa-map"></i> Mapa Interactivo - Costa Rica</h4>
                <div class="map-container">
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2011285.2677128726!2d-86.11466166249999!3d9.748916999999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x8f92e56221acc925%3A0x6254f72535819a2b!2sCosta%20Rica!5e0!3m2!1ses!2scr!4v1639234567890!5m2!1ses!2scr"
                            width="100%"
                            height="200"
                            style="border:0;"
                            allowfullscreen=""
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
            </div>

            <!-- Información Turística -->
            <div class="widget-card">
                <h4><i class="fas fa-info-circle"></i> Info Turística</h4>
                <div class="tourism-info">
                    <div class="info-item">
                        <i class="fas fa-thermometer-half"></i>
                        <span>Temperatura promedio: 24°C - 30°C</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-umbrella"></i>
                        <span>Temporada seca: Dic - Abr</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-leaf"></i>
                        <span>Temporada verde: May - Nov</span>
                    </div>
                </div>
            </div>
            <div class="widget-card">
                <h4><i class="fas fa-cloud-sun"></i> Clima - San José</h4>
                <div id="weatherWidget" class="weather-display">
                    <div class="weather-loading">Cargando información del clima...</div>
                </div>
            </div>
        </div>
    </div>


    <!-- Quick Stats -->
    <div class="dashboard-stats">
        <div class="stat-card">
            <div class="stat-icon bg-primary">
                <i class="fas fa-map-marker-alt"></i>
            </div>
            <div class="stat-info">
                <h3>125</h3>
                <p>Lugares Turísticos</p>
                <small class="text-success"><i class="fas fa-arrow-up"></i> +12 este mes</small>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon bg-success">
                <i class="fas fa-calendar-check"></i>
            </div>
            <div class="stat-info">
                <h3>89</h3>
                <p>Reservas Activas</p>
                <small class="text-success"><i class="fas fa-arrow-up"></i> +23 esta semana</small>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon bg-warning">
                <i class="fas fa-clock"></i>
            </div>
            <div class="stat-info">
                <h3>15</h3>
                <p>Pendientes Check-In</p>
                <small class="text-warning"><i class="fas fa-exclamation-triangle"></i> Requieren atención</small>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon bg-info">
                <i class="fas fa-dollar-sign"></i>
            </div>
            <div class="stat-info">
                <h3>$45,230</h3>
                <p>Ingresos del Mes</p>
                <small class="text-success"><i class="fas fa-arrow-up"></i> +18% vs mes anterior</small>
            </div>
        </div>
    </div>
    <!-- Quick Access Buttons -->
    <div class="quick-access-section">
        <h3><i class="fas fa-rocket"></i> Acceso Rápido</h3>
        <div class="quick-access-grid">
            <a href="/Places" class="quick-access-card">
                <div class="quick-icon bg-primary">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <div class="quick-info">
                    <h4>Gestionar Lugares</h4>
                    <p>Ver, agregar y editar lugares turísticos</p>
                </div>
                <i class="fas fa-arrow-right"></i>
            </a>

            <a href="/Categories" class="quick-access-card">
                <div class="quick-icon bg-success">
                    <i class="fas fa-tags"></i>
                </div>
                <div class="quick-info">
                    <h4>Administrar Categorías</h4>
                    <p>Organizar tipos de lugares turísticos</p>
                </div>
                <i class="fas fa-arrow-right"></i>
            </a>

            <a href="/Reservations" class="quick-access-card">
                <div class="quick-icon bg-warning">
                    <i class="fas fa-calendar-check"></i>
                </div>
                <div class="quick-info">
                    <h4>Control de Reservas</h4>
                    <p>Gestionar reservas y check-ins</p>
                </div>
                <i class="fas fa-arrow-right"></i>
            </a>

            <a href="#reportes" class="quick-access-card">
                <div class="quick-icon bg-info">
                    <i class="fas fa-chart-bar"></i>
                </div>
                <div class="quick-info">
                    <h4>Ver Reportes</h4>
                    <p>Análisis y estadísticas del sistema</p>
                </div>
                <i class="fas fa-arrow-right"></i>
            </a>
        </div>
    </div>
    <!-- Charts and Recent Activity -->
    <div class="dashboard-content">
        <div class="chart-section">
            <div class="chart-card">
                <h3><i class="fas fa-chart-pie"></i> Reservas por Categoría</h3>
                <div class="chart-placeholder">
                    <canvas id="categoryChart" width="400" height="200"></canvas>
                </div>
            </div>
        </div>
        <div class="activity-section">
            <div class="activity-card">
                <h3><i class="fas fa-bell"></i> Alertas Recientes</h3>
                <div class="alert-list">
                    <div class="alert-item">
                        <i class="fas fa-exclamation-triangle text-warning"></i>
                        <div>
                            <strong>Reserva próxima</strong>
                            <p>Hotel Vista Mar - Check-in en 2 días</p>
                            <small>Hace 1 hora</small>
                        </div>
                    </div>
                    <div class="alert-item">
                        <i class="fas fa-check-circle text-success"></i>
                        <div>
                            <strong>Check-in completado</strong>
                            <p>Aventura Canopy - Cliente: Juan Pérez</p>
                            <small>Hace 3 horas</small>
                        </div>
                    </div>
                    <div class="alert-item">
                        <i class="fas fa-info-circle text-info"></i>
                        <div>
                            <strong>Nuevo lugar registrado</strong>
                            <p>Restaurante Típico La Casona</p>
                            <small>Hace 5 horas</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Places Management Section -->
<section id="lugares" class="container fade-in">
    <div class="section-header">
        <h2><i class="fas fa-map-marker-alt"></i> Gestión de Lugares Turísticos</h2>
        <div class="section-actions">
            <button class="btn btn-primary" onclick="openAddPlaceModal()">
                <i class="fas fa-plus"></i> Agregar Lugar
            </button>
        </div>
    </div>

    <!-- Filters -->
    <div class="filters-section">
        <div class="filter-group">
            <input type="text" id="searchPlace" placeholder="Buscar por nombre..." class="form-control">
        </div>
        <div class="filter-group">
            <select id="categoryFilter" class="form-control">
                <option value="">Todas las categorías</option>
                <option value="alojamiento">Alojamiento</option>
                <option value="experiencias">Experiencias</option>
                <option value="restaurantes">Restaurantes</option>
                <option value="vida-nocturna">Vida Nocturna</option>
                <option value="bodas">Bodas</option>
            </select>
        </div>
        <div class="filter-group">
            <select id="statusFilter" class="form-control">
                <option value="">Todos los estados</option>
                <option value="disponible">Disponible</option>
                <option value="ocupado">Ocupado</option>
                <option value="mantenimiento">Mantenimiento</option>
            </select>
        </div>
    </div>

    <!-- Places Table -->
    <div class="table-container">
        <table class="data-table" id="placesTable">
            <thead>
                <tr>
                    <th>Código</th>
                    <th>Nombre</th>
                    <th>Categoría</th>
                    <th>Precio</th>
                    <th>Estado</th>
                    <th>Disponibilidad</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="code">HTL001</span></td>
                    <td>
                        <div class="place-info">
                            <strong>Hotel Vista Mar</strong>
                            <small>Guanacaste, Tamarindo</small>
                        </div>
                    </td>
                    <td><span class="badge badge-primary">Alojamiento</span></td>
                    <td><strong>$120/noche</strong></td>
                    <td><span class="status status-available">Disponible</span></td>
                    <td>
                        <div class="availability">
                            <span class="available-rooms">8/12 habitaciones</span>
                        </div>
                    </td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-icon btn-edit" onclick="editPlace('HTL001')" title="Editar">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon btn-view" onclick="viewPlace('HTL001')" title="Ver detalles">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn-icon btn-delete" onclick="deletePlace('HTL001')" title="Eliminar">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><span class="code">EXP002</span></td>
                    <td>
                        <div class="place-info">
                            <strong>Aventura Canopy</strong>
                            <small>Monteverde, Puntarenas</small>
                        </div>
                    </td>
                    <td><span class="badge badge-success">Experiencias</span></td>
                    <td><strong>$75/persona</strong></td>
                    <td><span class="status status-busy">Ocupado</span></td>
                    <td>
                        <div class="availability">
                            <span class="available-rooms">2/15 espacios</span>
                        </div>
                    </td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-icon btn-edit" onclick="editPlace('EXP002')" title="Editar">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon btn-view" onclick="viewPlace('EXP002')" title="Ver detalles">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn-icon btn-delete" onclick="deletePlace('EXP002')" title="Eliminar">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><span class="code">RST003</span></td>
                    <td>
                        <div class="place-info">
                            <strong>Restaurante Típico</strong>
                            <small>San José, Centro</small>
                        </div>
                    </td>
                    <td><span class="badge badge-warning">Restaurantes</span></td>
                    <td><strong>$25/persona</strong></td>
                    <td><span class="status status-available">Disponible</span></td>
                    <td>
                        <div class="availability">
                            <span class="available-rooms">20/25 mesas</span>
                        </div>
                    </td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-icon btn-edit" onclick="editPlace('RST003')" title="Editar">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon btn-view" onclick="viewPlace('RST003')" title="Ver detalles">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn-icon btn-delete" onclick="deletePlace('RST003')" title="Eliminar">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Pagination -->
    <div class="pagination-container">
        <div class="pagination-info">
            Mostrando 1-10 de 125 lugares
        </div>
        <div class="pagination">
            <button class="btn-page" disabled><i class="fas fa-chevron-left"></i></button>
            <button class="btn-page active">1</button>
            <button class="btn-page">2</button>
            <button class="btn-page">3</button>
            <button class="btn-page">...</button>
            <button class="btn-page">13</button>
            <button class="btn-page"><i class="fas fa-chevron-right"></i></button>
        </div>
    </div>
</section>

<!-- Categories Section -->
<section id="categorias" class="container fade-in">
    <div class="section-header">
        <h2><i class="fas fa-tags"></i> Administración de Categorías</h2>
        <div class="section-actions">
            <button class="btn btn-primary" onclick="openAddCategoryModal()">
                <i class="fas fa-plus"></i> Nueva Categoría
            </button>
        </div>
    </div>

    <div class="categories-grid">
        <div class="category-card">
            <div class="category-header">
                <div class="category-icon bg-primary">
                    <i class="fas fa-bed"></i>
                </div>
                <div class="category-info">
                    <h3>Alojamiento</h3>
                    <p>Hoteles, cabañas, hostales</p>
                </div>
                <div class="category-actions">
                    <button class="btn-icon btn-edit" onclick="editCategory('alojamiento')">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn-icon btn-delete" onclick="deleteCategory('alojamiento')">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
            <div class="category-stats">
                <div class="stat">
                    <span class="number">45</span>
                    <span class="label">Lugares</span>
                </div>
                <div class="stat">
                    <span class="number">234</span>
                    <span class="label">Reservas</span>
                </div>
                <div class="stat">
                    <span class="number">$12,450</span>
                    <span class="label">Ingresos</span>
                </div>
            </div>
        </div>

        <div class="category-card">
            <div class="category-header">
                <div class="category-icon bg-success">
                    <i class="fas fa-hiking"></i>
                </div>
                <div class="category-info">
                    <h3>Experiencias</h3>
                    <p>Tours, aventuras, actividades</p>
                </div>
                <div class="category-actions">
                    <button class="btn-icon btn-edit" onclick="editCategory('experiencias')">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn-icon btn-delete" onclick="deleteCategory('experiencias')">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
            <div class="category-stats">
                <div class="stat">
                    <span class="number">32</span>
                    <span class="label">Lugares</span>
                </div>
                <div class="stat">
                    <span class="number">189</span>
                    <span class="label">Reservas</span>
                </div>
                <div class="stat">
                    <span class="number">$8,920</span>
                    <span class="label">Ingresos</span>
                </div>
            </div>
        </div>

        <div class="category-card">
            <div class="category-header">
                <div class="category-icon bg-warning">
                    <i class="fas fa-utensils"></i>
                </div>
                <div class="category-info">
                    <h3>Restaurantes</h3>
                    <p>Comida típica, internacional</p>
                </div>
                <div class="category-actions">
                    <button class="btn-icon btn-edit" onclick="editCategory('restaurantes')">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn-icon btn-delete" onclick="deleteCategory('restaurantes')">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
            <div class="category-stats">
                <div class="stat">
                    <span class="number">28</span>
                    <span class="label">Lugares</span>
                </div>
                <div class="stat">
                    <span class="number">156</span>
                    <span class="label">Reservas</span>
                </div>
                <div class="stat">
                    <span class="number">$6,780</span>
                    <span class="label">Ingresos</span>
                </div>
            </div>
        </div>

        <div class="category-card">
            <div class="category-header">
                <div class="category-icon bg-danger">
                    <i class="fas fa-cocktail"></i>
                </div>
                <div class="category-info">
                    <h3>Vida Nocturna</h3>
                    <p>Bares, discotecas, entretenimiento</p>
                </div>
                <div class="category-actions">
                    <button class="btn-icon btn-edit" onclick="editCategory('vida-nocturna')">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn-icon btn-delete" onclick="deleteCategory('vida-nocturna')">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
            <div class="category-stats">
                <div class="stat">
                    <span class="number">15</span>
                    <span class="label">Lugares</span>
                </div>
                <div class="stat">
                    <span class="number">89</span>
                    <span class="label">Reservas</span>
                </div>
                <div class="stat">
                    <span class="number">$4,230</span>
                    <span class="label">Ingresos</span>
                </div>
            </div>
        </div>

        <div class="category-card">
            <div class="category-header">
                <div class="category-icon bg-info">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="category-info">
                    <h3>Bodas</h3>
                    <p>Ceremonias, recepciones, luna de miel</p>
                </div>
                <div class="category-actions">
                    <button class="btn-icon btn-edit" onclick="editCategory('bodas')">
                        <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn-icon btn-delete" onclick="deleteCategory('bodas')">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
            <div class="category-stats">
                <div class="stat">
                    <span class="number">5</span>
                    <span class="label">Lugares</span>
                </div>
                <div class="stat">
                    <span class="number">23</span>
                    <span class="label">Reservas</span>
                </div>
                <div class="stat">
                    <span class="number">$13,200</span>
                    <span class="label">Ingresos</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Reservations Section -->
<section id="reservas" class="container fade-in">
    <div class="section-header">
        <h2><i class="fas fa-calendar-check"></i> Control de Reservas</h2>
        <div class="section-actions">
            <button class="btn btn-primary" onclick="openAddReservationModal()">
                <i class="fas fa-plus"></i> Nueva Reserva
            </button>
            <button class="btn btn-secondary" onclick="openCalendarView()">
                <i class="fas fa-calendar"></i> Vista Calendario
            </button>
        </div>
    </div>

    <!-- Reservation Filters -->
    <div class="filters-section">
        <div class="filter-group">
            <input type="date" id="dateFrom" class="form-control" placeholder="Fecha desde">
        </div>
        <div class="filter-group">
            <input type="date" id="dateTo" class="form-control" placeholder="Fecha hasta">
        </div>
        <div class="filter-group">
            <select id="reservationStatus" class="form-control">
                <option value="">Todos los estados</option>
                <option value="confirmada">Confirmada</option>
                <option value="pendiente">Pendiente</option>
                <option value="check-in">Check-In</option>
                <option value="completada">Completada</option>
                <option value="cancelada">Cancelada</option>
            </select>
        </div>
    </div>

    <!-- Reservations Table -->
    <div class="table-container">
        <table class="data-table" id="reservationsTable">
            <thead>
                <tr>
                    <th>ID Reserva</th>
                    <th>Cliente</th>
                    <th>Lugar</th>
                    <th>Fecha</th>
                    <th>Check-In/Out</th>
                    <th>Estado</th>
                    <th>Total</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="code">RES001</span></td>
                    <td>
                        <div class="client-info">
                            <strong>María González</strong>
                            <small>maria@email.com</small>
                        </div>
                    </td>
                    <td>
                        <div class="place-info">
                            <strong>Hotel Vista Mar</strong>
                            <small>2 habitaciones</small>
                        </div>
                    </td>
                    <td>
                        <div class="date-info">
                            <strong>15-20 Dic 2024</strong>
                            <small>5 noches</small>
                        </div>
                    </td>
                    <td>
                        <div class="checkin-status">
                            <span class="check-in pending">Pendiente</span>
                            <small>En 2 días</small>
                        </div>
                    </td>
                    <td><span class="status status-confirmed">Confirmada</span></td>
                    <td><strong>$600</strong></td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-icon btn-checkin" onclick="checkIn('RES001')" title="Check-In">
                                <i class="fas fa-sign-in-alt"></i>
                            </button>
                            <button class="btn-icon btn-edit" onclick="editReservation('RES001')" title="Editar">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn-icon btn-view" onclick="viewReservation('RES001')" title="Ver detalles">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                <tr>
                    <td><span class="code">RES002</span></td>
                    <td>
                        <div class="client-info">
                            <strong>Carlos Mendez</strong>
                            <small>carlos@email.com</small>
                        </div>
                    </td>
                    <td>
                        <div class="place-info">
                            <strong>Aventura Canopy</strong>
                            <small>4 personas</small>
                        </div>
                    </td>
                    <td>
                        <div class="date-info">
                            <strong>18 Dic 2024</strong>
                            <small>09:00 AM</small>
                        </div>
                    </td>
                    <td>
                        <div class="checkin-status">
                            <span class="check-in completed">Completado</span>
                            <small>Hace 2 horas</small>
                        </div>
                    </td>
                    <td><span class="status status-active">En Progreso</span></td>
                    <td><strong>$300</strong></td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn-icon btn-checkout" onclick="checkOut('RES002')" title="Check-Out">
                                <i class="fas fa-sign-out-alt"></i>
                            </button>
                            <button class="btn-icon btn-view" onclick="viewReservation('RES002')" title="Ver detalles">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</section>

<!-- Reports Section -->
<section id="reportes" class="container fade-in">
    <div class="section-header">
        <h2><i class="fas fa-chart-bar"></i> Reportes y Análisis</h2>
        <div class="section-actions">
            <button class="btn btn-primary" onclick="generateReport()">
                <i class="fas fa-file-export"></i> Generar Reporte
            </button>
        </div>
    </div>

    <div class="reports-grid">
        <div class="report-card">
            <div class="report-header">
                <h3><i class="fas fa-calendar-check"></i> Lugares Disponibles</h3>
                <button class="btn btn-sm btn-outline" onclick="exportReport('available')">
                    <i class="fas fa-download"></i> Exportar
                </button>
            </div>
            <div class="report-content">
                <div class="report-stat">
                    <span class="number">87</span>
                    <span class="label">Lugares disponibles hoy</span>
                </div>
                <div class="report-chart">
                    <canvas id="availabilityChart" width="300" height="150"></canvas>
                </div>
            </div>
        </div>

        <div class="report-card">
            <div class="report-header">
                <h3><i class="fas fa-history"></i> Historial de Reservas</h3>
                <button class="btn btn-sm btn-outline" onclick="exportReport('history')">
                    <i class="fas fa-download"></i> Exportar
                </button>
            </div>
            <div class="report-content">
                <div class="report-stat">
                    <span class="number">1,234</span>
                    <span class="label">Reservas este mes</span>
                </div>
                <div class="report-chart">
                    <canvas id="historyChart" width="300" height="150"></canvas>
                </div>
            </div>
        </div>

        <div class="report-card">
            <div class="report-header">
                <h3><i class="fas fa-star"></i> Lugares Más Visitados</h3>
                <button class="btn btn-sm btn-outline" onclick="exportReport('popular')">
                    <i class="fas fa-download"></i> Exportar
                </button>
            </div>
            <div class="report-content">
                <div class="popular-places">
                    <div class="popular-item">
                        <span class="rank">1</span>
                        <div class="place-info">
                            <strong>Hotel Vista Mar</strong>
                            <small>234 reservas</small>
                        </div>
                        <span class="percentage">28%</span>
                    </div>
                    <div class="popular-item">
                        <span class="rank">2</span>
                        <div class="place-info">
                            <strong>Aventura Canopy</strong>
                            <small>189 reservas</small>
                        </div>
                        <span class="percentage">22%</span>
                    </div>
                    <div class="popular-item">
                        <span class="rank">3</span>
                        <div class="place-info">
                            <strong>Restaurante Típico</strong>
                            <small>156 reservas</small>
                        </div>
                        <span class="percentage">18%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Modals will go here -->
<!-- Add Place Modal -->
<div id="addPlaceModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3><i class="fas fa-plus"></i> Agregar Nuevo Lugar</h3>
            <button class="close-modal" onclick="closeModal('addPlaceModal')">&times;</button>
        </div>
        <div class="modal-body">
            <form id="addPlaceForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="placeName">Nombre del Lugar *</label>
                        <input type="text" id="placeName" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <label for="placeCode">Código Único *</label>
                        <input type="text" id="placeCode" class="form-control" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="placeDescription">Descripción</label>
                    <textarea id="placeDescription" class="form-control" rows="3"></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="placeCategory">Categoría *</label>
                        <select id="placeCategory" class="form-control" required>
                            <option value="">Seleccionar categoría</option>
                            <option value="alojamiento">Alojamiento</option>
                            <option value="experiencias">Experiencias</option>
                            <option value="restaurantes">Restaurantes</option>
                            <option value="vida-nocturna">Vida Nocturna</option>
                            <option value="bodas">Bodas</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="placePrice">Precio *</label>
                        <input type="number" id="placePrice" class="form-control" step="0.01" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="placeCapacity">Capacidad</label>
                        <input type="number" id="placeCapacity" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="placeLocation">Ubicación</label>
                        <input type="text" id="placeLocation" class="form-control">
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-secondary" onclick="closeModal('addPlaceModal')">Cancelar</button>
            <button type="button" class="btn btn-primary" onclick="savePlaceForm()">Guardar Lugar</button>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/tourism-system.js"></script>
}


